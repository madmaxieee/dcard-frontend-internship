"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{1311:function(r,n,t){t.d(n,{h4:function(){return b},OL:function(){return p},t3:function(){return cr},B6:function(){return ur}});var e=t(5893),o=t(2293),i=t(2963),c=t(155),u=t(6447),a=t(3946),s=t(6638),l=t(1163),f=t(122),h=t(5861),p=function(r){var n=r.href,t=r.children,o=(0,l.useRouter)();return(0,e.jsx)(f.Z,{onClick:function(){o.push(n)},sx:{cursor:"pointer"},children:(0,e.jsx)(h.Z,{children:t})})},d=t(7294),v=t(5113),m=t(9651),x=t(1519),y=t(2761),j=function(){var r=(0,l.useRouter)(),n=(0,d.useState)(""),t=n[0],o=n[1],i=function(){r.push("/users/".concat(t,"/repos"))};return(0,e.jsxs)(v.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:300},children:[(0,e.jsx)(m.ZP,{sx:{ml:1,flex:1},placeholder:"Search Github users",value:t,onChange:function(r){o(r.target.value)},onKeyDown:function(r){"Enter"===r.key&&i()}}),(0,e.jsx)(x.Z,{sx:{height:28,m:.5},orientation:"vertical"}),(0,e.jsx)(a.Z,{sx:{p:"10px"},onClick:i,children:(0,e.jsx)(y.Z,{})})]})},b=function(r){var n=r.username,t=r.repoName;return(0,e.jsx)(o.Z,{position:"static",color:"transparent",sx:{maxWidth:"100vw"},children:(0,e.jsx)(c.Z,{sx:{minHeight:"6vh",width:"60vw",mx:"auto"},children:(0,e.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[(0,e.jsxs)(u.Z,{direction:"row",gap:"1em",alignItems:"center",children:[(0,e.jsx)(a.Z,{onClick:function(){},children:(0,e.jsx)(s.Z,{})}),(0,e.jsxs)(i.Z,{"aria-label":"breadcrumb",children:[(0,e.jsx)(p,{href:"/users/".concat(n,"/repos"),children:n}),t&&(0,e.jsx)(p,{href:"/users/".concat(n,"/repos/").concat(t),children:t})]})]}),(0,e.jsx)(j,{})]})})})},g=t(4051),w=t.n(g),Z=t(7906),k=t(295),_=t(3252),C=t(2882),S=t(3184),A=t(3816),E=t(7357),I=t(8078),z=function(){return(0,e.jsx)(A.Z,{children:Array.from({length:3},(function(r,n){return(0,e.jsx)(P,{},n)}))})},P=function(){return(0,e.jsx)(_.Z,{children:(0,e.jsx)(I.Z,{animation:"wave"})})},R=function(r){return r<1e3?"\u2b50 ".concat(r):r<1e6?"\u2b50 ".concat(Math.round(r/100)/10,"k"):"\u2b50 ".concat(Math.round(r/1e5)/10,"M")},M=t(1737),N=t(5435),H=t(3321),O=t(6455),B=t.n(O),L=t(7630),D=t.n(L),T=t(9218);function F(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}var U=function(r){var n=r.type,t=void 0===n?"info":n,o=r.content;return(0,e.jsx)(M.Z,{severity:t,variant:"filled",children:o})},$=function(r){var n=r.type,t=void 0===n?"info":n,o=r.content,i=(0,d.useState)(!0),c=i[0],u=i[1],a=function(){W.clickConfirm(),u(!1)},s=function(){W.clickCancel(),u(!1)};return(0,T.y1)("enter",(function(r){r.preventDefault(),a()})),(0,T.y1)("esc",(function(r){r.preventDefault(),s()})),(0,d.useLayoutEffect)((function(){var r=document.getElementById("confirm-confirm-button");r&&r.focus()}),[]),(0,e.jsx)(N.Z,{in:c,children:(0,e.jsx)(M.Z,{severity:t,variant:"filled",action:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(H.Z,{color:"inherit",size:"small",onClick:s,children:"Cancel"}),(0,e.jsx)(H.Z,{color:"inherit",size:"small",onClick:a,id:"confirm-confirm-button",children:"Confirm"})]}),children:o})})},G=D()(B()),K=function(r){return function(n){G.fire({html:(0,e.jsx)(U,{type:r,content:n}),toast:!0,position:"top",showConfirmButton:!1,timer:4e3,background:"transparent"})}},W=D()(B()),q=function(r){return function(){var n,t=(n=w().mark((function n(t){var o;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,W.fire({html:(0,e.jsx)($,{type:r,content:t}),position:"top",showConfirmButton:!1,background:"transparent"});case 2:return o=n.sent.isConfirmed,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function c(r){F(i,e,o,c,u,"next",r)}function u(r){F(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(r){return t.apply(this,arguments)}}()},J={info:K("info"),success:K("success"),error:K("error"),warning:K("warning")};q("info"),q("success"),q("error"),q("warning");function Q(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function V(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}function X(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,i=[],c=!0,u=!1;try{for(t=t.call(r);!(c=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);c=!0);}catch(a){u=!0,o=a}finally{try{c||null==t.return||t.return()}finally{if(u)throw o}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return Q(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Y=function(r){var n=(0,l.useRouter)(),t=function(){var t,e=(t=w().mark((function t(e){var o,i,c,u,a,s;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/users/".concat(r,"/repos"));case 4:o=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),J.error("network error"),n.push("/"),t.abrupt("return",[]);case 12:if(o.ok){t.next=16;break}return J.error("Error ".concat(o.status)),n.push("/"),t.abrupt("return",[]);case 16:return t.next=18,o.json();case 18:if(0!==(i=t.sent).length){t.next=23;break}return J.error('user "'.concat(r,'" not found')),n.push("/"),t.abrupt("return",[]);case 23:if(c=i.map((function(r){return{name:r.name,description:r.description,stargazers_count:r.stargazers_count,html_url:r.html_url,visibility:r.visibility}})),u=X(e,2),a=u[0],s=u[1],!(a<=c.length&&s<=c.length)){t.next=29;break}return t.abrupt("return",c.slice(a,s));case 29:return t.abrupt("return",[]);case 30:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function c(r){V(i,e,o,c,u,"next",r)}function u(r){V(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(r){return e.apply(this,arguments)}}();return{getRepos:t}};function rr(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}var nr=function(r,n){var t=(0,d.useState)({name:"",full_name:"",description:"",stargazers_count:0,html_url:"",visibility:""}),e=t[0],o=t[1],i=(0,l.useRouter)(),c=function(){var t,e=(t=w().mark((function t(){var e,c,u;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/repos/".concat(r,"/").concat(n));case 4:e=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),J.error("network error"),i.push("/"),t.abrupt("return");case 12:if(e.ok){t.next=16;break}return J.error("Error ".concat(e.status)),i.push("/"),t.abrupt("return");case 16:return t.next=18,e.json();case 18:if("Not Found"!==(c=t.sent).message){t.next=23;break}return J.error('repo "'.concat(r,"/").concat(n,'" not found')),i.push("/"),t.abrupt("return");case 23:o({full_name:c.full_name,description:null!==(u=null===c||void 0===c?void 0:c.description)&&void 0!==u?u:"(this repository has no description)",stargazers_count:c.stargazers_count,html_url:c.html_url,visibility:c.visibility});case 25:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function c(r){rr(i,e,o,c,u,"next",r)}function u(r){rr(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){c()}),[]),{repoInfo:e}},tr=t(5934);function er(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function or(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}function ir(r){return function(r){if(Array.isArray(r))return er(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return er(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return er(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cr=function(r){var n=r.username,t=(0,d.useRef)(null),o=(0,d.useState)([]),i=o[0],c=o[1],u=(0,d.useState)(0),a=u[0],s=u[1],l=(0,d.useState)(!1),f=l[0],h=l[1],v=(0,d.useState)(0),m=v[0],x=v[1],y=(0,d.useState)(!0),j=y[0],b=y[1],g=Y(n).getRepos,I=(0,d.useCallback)((function(r){var n=function(){var n,t=(n=w().mark((function n(){var t;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g([r,r+10]);case 2:t=n.sent,h(!1),s(r+10),0===t.length?b(!1):c((function(n){return ir(n.slice(0,r)).concat(ir(t))}));case 6:case"end":return n.stop()}}),n)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function c(r){or(i,e,o,c,u,"next",r)}function u(r){or(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();h(!0),n()}),[g]),P=(0,d.useCallback)((function(){if(null!==t.current){var r=t.current.scrollHeight-t.current.clientHeight;m||x(Math.round(r/100*20)),t.current.scrollTop>r-m&&j&&!f&&I(a)}}),[j,I,f,a,m]);return(0,d.useEffect)((function(){I(0)}),[]),(0,d.useEffect)((function(){var r=t.current;return null===r||void 0===r||r.addEventListener("scroll",P),function(){null===r||void 0===r||r.removeEventListener("scroll",P)}})),(0,e.jsx)(E.Z,{children:(0,e.jsx)(C.Z,{ref:t,sx:{margin:"auto",maxHeight:"500px",height:"100%"},children:(0,e.jsxs)(Z.Z,{stickyHeader:!0,children:[(0,e.jsx)(S.Z,{children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(_.Z,{children:"Name"}),(0,e.jsx)(_.Z,{children:"stars"}),(0,e.jsx)(_.Z,{children:"description"})]})}),(0,e.jsx)(k.Z,{children:ir(i.map((function(r){var t=r.name,o=r.description,i=r.stargazers_count;return(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(_.Z,{children:(0,e.jsx)(p,{href:"/users/".concat(n,"/repos/").concat(t),children:t})}),(0,e.jsx)(_.Z,{children:(0,e.jsx)(E.Z,{width:"5em",children:R(i)})}),(0,e.jsx)(_.Z,{children:o})]},(0,tr.Z)())}))).concat([f&&Array.from({length:3},(function(){return(0,e.jsx)(z,{},(0,tr.Z)())}))])})]})})})},ur=function(r){var n=r.username,t=r.repoName,o=nr(n,t).repoInfo,i=o.full_name,c=o.stargazers_count,a=o.description,s=o.html_url;return(0,e.jsxs)(u.Z,{gap:"1em",children:[(0,e.jsxs)(u.Z,{direction:"row",gap:"2em",alignItems:"center",children:[(0,e.jsx)(h.Z,{variant:"h4",children:(0,e.jsx)(f.Z,{href:s,target:"_blank",children:i})}),(0,e.jsx)(h.Z,{variant:"h6",children:R(c)})]}),(0,e.jsx)(v.Z,{elevation:3,sx:{p:"1em",width:"80%",mx:"auto"},children:(0,e.jsx)(h.Z,{children:a})})]})}}}]);