"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[311],{1311:function(r,n,t){t.d(n,{h4:function(){return j},OL:function(){return s},t3:function(){return ir},B6:function(){return cr}});var e=t(5893),o=t(2293),i=t(2963),c=t(1163),u=t(122),a=t(5861),s=function(r){var n=r.href,t=r.children,o=(0,c.useRouter)();return(0,e.jsx)(u.Z,{onClick:function(){o.push(n)},sx:{cursor:"pointer"},children:(0,e.jsx)(a.Z,{children:t})})},l=t(7294),f=t(5113),h=t(9651),p=t(1519),d=t(3946),v=t(2761),m=function(){var r=(0,c.useRouter)(),n=(0,l.useState)(""),t=n[0],o=n[1],i=function(){r.push("/users/".concat(t,"/repos"))};return(0,e.jsxs)(f.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:300},children:[(0,e.jsx)(h.ZP,{sx:{ml:1,flex:1},placeholder:"Search Github users",value:t,onChange:function(r){o(r.target.value)},onKeyDown:function(r){"Enter"===r.key&&i()}}),(0,e.jsx)(p.Z,{sx:{height:28,m:.5},orientation:"vertical"}),(0,e.jsx)(d.Z,{sx:{p:"10px"},onClick:i,children:(0,e.jsx)(v.Z,{})})]})},x=t(155),y=t(6447),j=function(r){var n=r.username,t=r.repoName;return(0,e.jsx)(o.Z,{position:"static",color:"transparent",sx:{maxWidth:"100vw"},children:(0,e.jsx)(x.Z,{sx:{minHeight:"6vh",width:"60vw",mx:"auto"},children:(0,e.jsxs)(y.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[(0,e.jsxs)(i.Z,{"aria-label":"breadcrumb",children:[(0,e.jsx)(s,{href:"/users/".concat(n,"/repos"),children:n}),t&&(0,e.jsx)(s,{href:"/users/".concat(n,"/repos/").concat(t),children:t})]}),(0,e.jsx)(m,{})]})})})},b=t(4051),g=t.n(b),w=t(7906),Z=t(295),k=t(3252),_=t(2882),C=t(3184),S=t(3816),A=t(7357),E=t(8078),I=function(){return(0,e.jsx)(S.Z,{children:Array.from({length:3},(function(r,n){return(0,e.jsx)(z,{},n)}))})},z=function(){return(0,e.jsx)(k.Z,{children:(0,e.jsx)(E.Z,{animation:"wave"})})},P=function(r){return r<1e3?"\u2b50 ".concat(r):r<1e6?"\u2b50 ".concat(Math.round(r/100)/10,"k"):"\u2b50 ".concat(Math.round(r/1e5)/10,"M")},R=t(1737),M=t(5435),N=t(3321),H=t(6455),O=t.n(H),B=t(7630),L=t.n(B),D=t(9218);function T(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}var F=function(r){var n=r.type,t=void 0===n?"info":n,o=r.content;return(0,e.jsx)(R.Z,{severity:t,variant:"filled",children:o})},U=function(r){var n=r.type,t=void 0===n?"info":n,o=r.content,i=(0,l.useState)(!0),c=i[0],u=i[1],a=function(){K.clickConfirm(),u(!1)},s=function(){K.clickCancel(),u(!1)};return(0,D.y1)("enter",(function(r){r.preventDefault(),a()})),(0,D.y1)("esc",(function(r){r.preventDefault(),s()})),(0,l.useLayoutEffect)((function(){var r=document.getElementById("confirm-confirm-button");r&&r.focus()}),[]),(0,e.jsx)(M.Z,{in:c,children:(0,e.jsx)(R.Z,{severity:t,variant:"filled",action:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{color:"inherit",size:"small",onClick:s,children:"Cancel"}),(0,e.jsx)(N.Z,{color:"inherit",size:"small",onClick:a,id:"confirm-confirm-button",children:"Confirm"})]}),children:o})})},$=L()(O()),G=function(r){return function(n){$.fire({html:(0,e.jsx)(F,{type:r,content:n}),toast:!0,position:"top",showConfirmButton:!1,timer:4e3,background:"transparent"})}},K=L()(O()),W=function(r){return function(){var n,t=(n=g().mark((function n(t){var o;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K.fire({html:(0,e.jsx)(U,{type:r,content:t}),position:"top",showConfirmButton:!1,background:"transparent"});case 2:return o=n.sent.isConfirmed,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function c(r){T(i,e,o,c,u,"next",r)}function u(r){T(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(r){return t.apply(this,arguments)}}()},q={info:G("info"),success:G("success"),error:G("error"),warning:G("warning")};W("info"),W("success"),W("error"),W("warning");function J(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function Q(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}function V(r,n){return function(r){if(Array.isArray(r))return r}(r)||function(r,n){var t=null==r?null:"undefined"!==typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var e,o,i=[],c=!0,u=!1;try{for(t=t.call(r);!(c=(e=t.next()).done)&&(i.push(e.value),!n||i.length!==n);c=!0);}catch(a){u=!0,o=a}finally{try{c||null==t.return||t.return()}finally{if(u)throw o}}return i}}(r,n)||function(r,n){if(!r)return;if("string"===typeof r)return J(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return J(r,n)}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(r){var n=(0,c.useRouter)(),t=function(){var t,e=(t=g().mark((function t(e){var o,i,c,u,a,s;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/users/".concat(r,"/repos"));case 4:o=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),q.error("network error"),n.push("/"),t.abrupt("return",[]);case 12:if(o.ok){t.next=16;break}return q.error("Error ".concat(o.status)),n.push("/"),t.abrupt("return",[]);case 16:return t.next=18,o.json();case 18:if(0!==(i=t.sent).length){t.next=23;break}return q.error('user "'.concat(r,'" not found')),n.push("/"),t.abrupt("return",[]);case 23:if(c=i.map((function(r){return{name:r.name,description:r.description,stargazers_count:r.stargazers_count,html_url:r.html_url,visibility:r.visibility}})),u=V(e,2),a=u[0],s=u[1],!(a<=c.length&&s<=c.length)){t.next=29;break}return t.abrupt("return",c.slice(a,s));case 29:return t.abrupt("return",[]);case 30:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function c(r){Q(i,e,o,c,u,"next",r)}function u(r){Q(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(r){return e.apply(this,arguments)}}();return{getRepos:t}};function Y(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}var rr=function(r,n){var t=(0,l.useState)({name:"",full_name:"",description:"",stargazers_count:0,html_url:"",visibility:""}),e=t[0],o=t[1],i=(0,c.useRouter)(),u=function(){var t,e=(t=g().mark((function t(){var e,c,u;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/repos/".concat(r,"/").concat(n));case 4:e=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),q.error("network error"),i.push("/"),t.abrupt("return");case 12:if(e.ok){t.next=16;break}return q.error("Error ".concat(e.status)),i.push("/"),t.abrupt("return");case 16:return t.next=18,e.json();case 18:if("Not Found"!==(c=t.sent).message){t.next=23;break}return q.error('repo "'.concat(r,"/").concat(n,'" not found')),i.push("/"),t.abrupt("return");case 23:o({full_name:c.full_name,description:null!==(u=null===c||void 0===c?void 0:c.description)&&void 0!==u?u:"(this repository has no description)",stargazers_count:c.stargazers_count,html_url:c.html_url,visibility:c.visibility});case 25:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var r=this,n=arguments;return new Promise((function(e,o){var i=t.apply(r,n);function c(r){Y(i,e,o,c,u,"next",r)}function u(r){Y(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){u()}),[]),{repoInfo:e}},nr=t(5934);function tr(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function er(r,n,t,e,o,i,c){try{var u=r[i](c),a=u.value}catch(s){return void t(s)}u.done?n(a):Promise.resolve(a).then(e,o)}function or(r){return function(r){if(Array.isArray(r))return tr(r)}(r)||function(r){if("undefined"!==typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,n){if(!r)return;if("string"===typeof r)return tr(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);"Object"===t&&r.constructor&&(t=r.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return tr(r,n)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ir=function(r){var n=r.username,t=(0,l.useRef)(null),o=(0,l.useState)([]),i=o[0],c=o[1],u=(0,l.useState)(0),a=u[0],f=u[1],h=(0,l.useState)(!1),p=h[0],d=h[1],v=(0,l.useState)(0),m=v[0],x=v[1],y=(0,l.useState)(!0),j=y[0],b=y[1],E=X(n).getRepos,z=(0,l.useCallback)((function(r){var n=function(){var n,t=(n=g().mark((function n(){var t;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,E([r,r+10]);case 2:t=n.sent,d(!1),f(r+10),0===t.length?b(!1):c((function(n){return or(n.slice(0,r)).concat(or(t))}));case 6:case"end":return n.stop()}}),n)})),function(){var r=this,t=arguments;return new Promise((function(e,o){var i=n.apply(r,t);function c(r){er(i,e,o,c,u,"next",r)}function u(r){er(i,e,o,c,u,"throw",r)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();d(!0),n()}),[E]),R=(0,l.useCallback)((function(){if(null!==t.current){var r=t.current.scrollHeight-t.current.clientHeight;m||x(Math.round(r/100*20)),t.current.scrollTop>r-m&&j&&!p&&z(a)}}),[j,z,p,a,m]);return(0,l.useEffect)((function(){z(0)}),[]),(0,l.useEffect)((function(){var r=t.current;return null===r||void 0===r||r.addEventListener("scroll",R),function(){null===r||void 0===r||r.removeEventListener("scroll",R)}})),(0,e.jsx)(A.Z,{children:(0,e.jsx)(_.Z,{ref:t,sx:{margin:"auto",maxHeight:"500px",height:"100%"},children:(0,e.jsxs)(w.Z,{stickyHeader:!0,children:[(0,e.jsx)(C.Z,{children:(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(k.Z,{children:"Name"}),(0,e.jsx)(k.Z,{children:"stars"}),(0,e.jsx)(k.Z,{children:"description"})]})}),(0,e.jsx)(Z.Z,{children:or(i.map((function(r){var t=r.name,o=r.description,i=r.stargazers_count;return(0,e.jsxs)(S.Z,{children:[(0,e.jsx)(k.Z,{children:(0,e.jsx)(s,{href:"/users/".concat(n,"/repos/").concat(t),children:t})}),(0,e.jsx)(k.Z,{children:(0,e.jsx)(A.Z,{width:"5em",children:P(i)})}),(0,e.jsx)(k.Z,{children:o})]},(0,nr.Z)())}))).concat([p&&Array.from({length:3},(function(){return(0,e.jsx)(I,{},(0,nr.Z)())}))])})]})})})},cr=function(r){var n=r.username,t=r.repoName,o=rr(n,t).repoInfo,i=o.full_name,c=o.stargazers_count,s=o.description,l=o.html_url;return(0,e.jsxs)(y.Z,{gap:"1em",children:[(0,e.jsxs)(y.Z,{direction:"row",gap:"2em",alignItems:"center",children:[(0,e.jsx)(a.Z,{variant:"h4",children:(0,e.jsx)(u.Z,{href:l,target:"_blank",children:i})}),(0,e.jsx)(a.Z,{variant:"h6",children:P(c)})]}),(0,e.jsx)(f.Z,{elevation:3,sx:{p:"1em",width:"80%",mx:"auto"},children:(0,e.jsx)(a.Z,{children:s})})]})}}}]);