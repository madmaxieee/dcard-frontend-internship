"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[690],{1690:function(n,r,t){t.d(r,{h4:function(){return W},OL:function(){return T},t3:function(){return sn},B6:function(){return ln}});var e=t(5893),i=t(4051),o=t.n(i),c=function(n){return n<1e3?"\u2b50 ".concat(n):n<1e6?"\u2b50 ".concat(Math.round(n/100)/10,"k"):"\u2b50 ".concat(Math.round(n/1e5)/10,"M")},a=t(7294),u=t(1737),s=t(5435),l=t(3321),f=t(6455),h=t.n(f),p=t(7630),d=t.n(p),v=t(9218);function m(n,r,t,e,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void t(s)}a.done?r(u):Promise.resolve(u).then(e,i)}var x=function(n){var r=n.type,t=void 0===r?"info":r,i=n.content;return(0,e.jsx)(u.Z,{severity:t,variant:"filled",children:i})},y=function(n){var r=n.type,t=void 0===r?"info":r,i=n.content,o=(0,a.useState)(!0),c=o[0],f=o[1],h=function(){b.clickConfirm(),f(!1)},p=function(){b.clickCancel(),f(!1)};return(0,v.y1)("enter",(function(n){n.preventDefault(),h()})),(0,v.y1)("esc",(function(n){n.preventDefault(),p()})),(0,a.useLayoutEffect)((function(){var n=document.getElementById("confirm-confirm-button");n&&n.focus()}),[]),(0,e.jsx)(s.Z,{in:c,children:(0,e.jsx)(u.Z,{severity:t,variant:"filled",action:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(l.Z,{color:"inherit",size:"small",onClick:p,children:"Cancel"}),(0,e.jsx)(l.Z,{color:"inherit",size:"small",onClick:h,id:"confirm-confirm-button",children:"Confirm"})]}),children:i})})},j=d()(h()),g=function(n){return function(r){j.fire({html:(0,e.jsx)(x,{type:n,content:r}),toast:!0,position:"top",showConfirmButton:!1,timer:4e3,background:"transparent"})}},b=d()(h()),w=function(n){return function(){var r,t=(r=o().mark((function r(t){var i;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,b.fire({html:(0,e.jsx)(y,{type:n,content:t}),position:"top",showConfirmButton:!1,background:"transparent"});case 2:return i=r.sent.isConfirmed,r.abrupt("return",i);case 4:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var o=r.apply(n,t);function c(n){m(o,e,i,c,a,"next",n)}function a(n){m(o,e,i,c,a,"throw",n)}c(void 0)}))});return function(n){return t.apply(this,arguments)}}()},Z={info:g("info"),success:g("success"),error:g("error"),warning:g("warning")};w("info"),w("success"),w("error"),w("warning");function k(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function _(n,r,t,e,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void t(s)}a.done?r(u):Promise.resolve(u).then(e,i)}function C(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,i,o=[],c=!0,a=!1;try{for(t=t.call(n);!(c=(e=t.next()).done)&&(o.push(e.value),!r||o.length!==r);c=!0);}catch(u){a=!0,i=u}finally{try{c||null==t.return||t.return()}finally{if(a)throw i}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return k(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S=function(n){var r=P().navigate,t=function(){var t,e=(t=o().mark((function t(e){var i,c,a,u,s,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/users/".concat(n,"/repos"));case 4:i=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),Z.error("network error"),r("/"),t.abrupt("return",[]);case 12:if(i.ok){t.next=16;break}return Z.error("Error ".concat(i.status)),r("/"),t.abrupt("return",[]);case 16:return t.next=18,i.json();case 18:if(0!==(c=t.sent).length){t.next=23;break}return Z.error('user "'.concat(n,'" not found')),r("/"),t.abrupt("return",[]);case 23:if(a=c.map((function(n){return{name:n.name,description:n.description,stargazers_count:n.stargazers_count,html_url:n.html_url,visibility:n.visibility}})),u=C(e,2),s=u[0],l=u[1],!(s<=a.length&&l<=a.length)){t.next=29;break}return t.abrupt("return",a.slice(s,l));case 29:return t.abrupt("return",[]);case 30:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var n=this,r=arguments;return new Promise((function(e,i){var o=t.apply(n,r);function c(n){_(o,e,i,c,a,"next",n)}function a(n){_(o,e,i,c,a,"throw",n)}c(void 0)}))});return function(n){return e.apply(this,arguments)}}();return{getRepos:t}};function A(n,r,t,e,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void t(s)}a.done?r(u):Promise.resolve(u).then(e,i)}var E=function(n,r){var t=(0,a.useState)({name:"",full_name:"",description:"",stargazers_count:0,html_url:"",visibility:""}),e=t[0],i=t[1],c=P().navigate,u=function(){var t,e=(t=o().mark((function t(){var e,a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.github.com/repos/".concat(n,"/").concat(r));case 4:e=t.sent,t.next=12;break;case 7:return t.prev=7,t.t0=t.catch(1),Z.error("network error"),c("/"),t.abrupt("return");case 12:if(e.ok){t.next=16;break}return Z.error("Error ".concat(e.status)),c("/"),t.abrupt("return");case 16:return t.next=18,e.json();case 18:if("Not Found"!==(a=t.sent).message){t.next=23;break}return Z.error('repo "'.concat(n,"/").concat(r,'" not found')),c("/"),t.abrupt("return");case 23:i({full_name:a.full_name,description:null!==(u=null===a||void 0===a?void 0:a.description)&&void 0!==u?u:"(this repository has no description)",stargazers_count:a.stargazers_count,html_url:a.html_url,visibility:a.visibility});case 25:case"end":return t.stop()}}),t,null,[[1,7]])})),function(){var n=this,r=arguments;return new Promise((function(e,i){var o=t.apply(n,r);function c(n){A(o,e,i,c,a,"next",n)}function a(n){A(o,e,i,c,a,"throw",n)}c(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){u()}),[]),{repoInfo:e}},I=t(1752),z=t(1163),P=function(){var n=(0,z.useRouter)(),r=(0,I.default)().publicRuntimeConfig;return{navigate:function(t){n.push("".concat(r.baseURL||"").concat(t))},router:n}},M=t(2293),N=t(2963),R=t(155),H=t(6447),L=t(3946),O=t(6638),B=t(122),D=t(5861),T=function(n){var r=n.href,t=n.children,i=P().navigate;return(0,e.jsx)(B.Z,{onClick:function(){return i(r)},sx:{cursor:"pointer"},children:(0,e.jsx)(D.Z,{children:t})})},U=t(5113),F=t(9651),$=t(1519),G=t(2761),K=function(){var n=P().navigate,r=(0,a.useState)(""),t=r[0],i=r[1],o=function(){return n("/users/".concat(t,"/repos"))};return(0,e.jsxs)(U.Z,{sx:{p:"2px 4px",display:"flex",alignItems:"center",width:300},children:[(0,e.jsx)(F.ZP,{sx:{ml:1,flex:1},placeholder:"Search Github users",value:t,onChange:function(n){i(n.target.value)},onKeyDown:function(n){"Enter"===n.key&&o()}}),(0,e.jsx)($.Z,{sx:{height:28,m:.5},orientation:"vertical"}),(0,e.jsx)(L.Z,{sx:{p:"10px"},onClick:o,children:(0,e.jsx)(G.Z,{})})]})},W=function(n){var r=n.username,t=n.repoName,i=P().navigate;return(0,e.jsx)(M.Z,{position:"static",color:"transparent",sx:{maxWidth:"100vw"},children:(0,e.jsx)(R.Z,{sx:{minHeight:"6vh",width:"60vw",mx:"auto"},children:(0,e.jsxs)(H.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{width:"100%"},children:[(0,e.jsxs)(H.Z,{direction:"row",gap:"1em",alignItems:"center",children:[(0,e.jsx)(L.Z,{onClick:function(){i("/")},children:(0,e.jsx)(O.Z,{})}),(0,e.jsxs)(N.Z,{"aria-label":"breadcrumb",children:[(0,e.jsx)(T,{href:"/users/".concat(r,"/repos"),children:r}),t&&(0,e.jsx)(T,{href:"/users/".concat(r,"/repos/").concat(t),children:t})]})]}),(0,e.jsx)(K,{})]})})})},q=t(7906),J=t(295),Q=t(3252),V=t(2882),X=t(3184),Y=t(3816),nn=t(7357),rn=t(8078),tn=function(){return(0,e.jsx)(Y.Z,{children:Array.from({length:3},(function(n,r){return(0,e.jsx)(en,{},r)}))})},en=function(){return(0,e.jsx)(Q.Z,{children:(0,e.jsx)(rn.Z,{animation:"wave"})})},on=t(5934);function cn(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}function an(n,r,t,e,i,o,c){try{var a=n[o](c),u=a.value}catch(s){return void t(s)}a.done?r(u):Promise.resolve(u).then(e,i)}function un(n){return function(n){if(Array.isArray(n))return cn(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,r){if(!n)return;if("string"===typeof n)return cn(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cn(n,r)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sn=function(n){var r=n.username,t=(0,a.useRef)(null),i=(0,a.useState)([]),u=i[0],s=i[1],l=(0,a.useState)(0),f=l[0],h=l[1],p=(0,a.useState)(!1),d=p[0],v=p[1],m=(0,a.useState)(0),x=m[0],y=m[1],j=(0,a.useState)(!0),g=j[0],b=j[1],w=S(r).getRepos,Z=(0,a.useCallback)((function(n){var r=function(){var r,t=(r=o().mark((function r(){var t;return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w([n,n+10]);case 2:t=r.sent,v(!1),h(n+10),0===t.length?b(!1):s((function(r){return un(r.slice(0,n)).concat(un(t))}));case 6:case"end":return r.stop()}}),r)})),function(){var n=this,t=arguments;return new Promise((function(e,i){var o=r.apply(n,t);function c(n){an(o,e,i,c,a,"next",n)}function a(n){an(o,e,i,c,a,"throw",n)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();v(!0),r()}),[w]),k=(0,a.useCallback)((function(){if(null!==t.current){var n=t.current.scrollHeight-t.current.clientHeight;x||y(Math.round(n/100*20)),t.current.scrollTop>n-x&&g&&!d&&Z(f)}}),[g,Z,d,f,x]);return(0,a.useEffect)((function(){Z(0)}),[]),(0,a.useEffect)((function(){var n=t.current;return null===n||void 0===n||n.addEventListener("scroll",k),function(){null===n||void 0===n||n.removeEventListener("scroll",k)}})),(0,e.jsx)(nn.Z,{children:(0,e.jsx)(V.Z,{ref:t,sx:{margin:"auto",maxHeight:"500px",height:"100%"},children:(0,e.jsxs)(q.Z,{stickyHeader:!0,children:[(0,e.jsx)(X.Z,{children:(0,e.jsxs)(Y.Z,{children:[(0,e.jsx)(Q.Z,{children:"Name"}),(0,e.jsx)(Q.Z,{children:"stars"}),(0,e.jsx)(Q.Z,{children:"description"})]})}),(0,e.jsx)(J.Z,{children:un(u.map((function(n){var t=n.name,i=n.description,o=n.stargazers_count;return(0,e.jsxs)(Y.Z,{children:[(0,e.jsx)(Q.Z,{children:(0,e.jsx)(T,{href:"/users/".concat(r,"/repos/").concat(t),children:t})}),(0,e.jsx)(Q.Z,{children:(0,e.jsx)(nn.Z,{width:"5em",children:c(o)})}),(0,e.jsx)(Q.Z,{children:i})]},(0,on.Z)())}))).concat([d&&Array.from({length:3},(function(){return(0,e.jsx)(tn,{},(0,on.Z)())}))])})]})})})},ln=function(n){var r=n.username,t=n.repoName,i=E(r,t).repoInfo,o=i.full_name,a=i.stargazers_count,u=i.description,s=i.html_url;return(0,e.jsxs)(H.Z,{gap:"1em",children:[(0,e.jsxs)(H.Z,{direction:"row",gap:"2em",alignItems:"center",children:[(0,e.jsx)(D.Z,{variant:"h4",children:(0,e.jsx)(B.Z,{href:s,target:"_blank",children:o})}),(0,e.jsx)(D.Z,{variant:"h6",children:c(a)})]}),(0,e.jsx)(U.Z,{elevation:3,sx:{p:"1em",width:"80%",mx:"auto"},children:(0,e.jsx)(D.Z,{children:u})})]})}}}]);